{% extends 'tournament/base.html' %}
{% load static %}
{% load custom_filters %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'styles/team_and_player_list.css' %}">
{% endblock %}

{% block content %}
<h2>Squadre</h2>
<div class="teams-container">
    {% for team in teams %}
    <div class="team-card">
        <h3>{{ team.name }}</h3>
        <div class="team-content">
            <ul class="team-players">
                {% for player in sorted_players|get_item:team.id %}
                {% if not player.is_fake %}
                <li>{{ player.surname }} {{ player.name }}</li>
                {% endif %}
                {% empty %}
                <li>No players listed.</li>
                {% endfor %}
            </ul>
            {% if team.image_url %}
            <a href="{{ team.image_url }}" target="_blank" class="team-image-link">
                <img src="{{ team.image_url }}" alt="Foto {{ team.name }}" class="team-photo">
            </a>
            {% endif %}
        </div>
    </div>
    {% endfor %}
</div>
{% endblock %}